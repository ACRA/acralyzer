<!DOCTYPE html>
<html ng-app="Acralyzer">
  <head>
    <title>Acralyzer</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="vendor/bootstrap/css/bootstrap.min.css" type="text/css">
    <link rel="stylesheet" href="vendor/bootstrap/css/bootstrap-responsive.min.css" type="text/css">
    <link rel="stylesheet" href="style/main.css" type="text/css">
    <link rel="stylesheet" href="style/graph.css" type="text/css">
    <script src="/_utils/script/sha1.js"></script>
    <script src="/_utils/script/json2.js"></script>
    <script src="/_utils/script/jquery.js"></script>
    <script src="/_utils/script/jquery.couch.js"></script>
    <script src="vendor/couchapp/jquery.couch.app.util.js"></script>
    <script src="vendor/couchapp/jquery.mustache.js"></script>
    <script src="vendor/couchapp/jquery.couchLogin.js"></script>
    <script src="vendor/couchapp/jquery.couchProfile.js"></script>
    <script src="vendor/couchapp/md5.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.min.js"></script>
    <script src="vendor/angular/angular.min.js"></script>
    <script src="vendor/angular/angular-resource.min.js"></script>
    <script src="vendor/d3/d3.v2.js"></script>
    <script src="vendor/timrwood/moment.min.js"></script>
    <script src="vendor/padolsey/prettyprint.js"></script>
  </head>
  <body>
    <div id="account"></div>

    <h1>Acralyzer</h1>

    <!--div id="profile">
    </div-->
    <div class="container-fluid">
      <div class="row-fluid">
        <div id="graph-container" ng-controller="ReportsPerDayCtrl" class="span9">
          Number of reports per
          <select class="input-small" ng-model="period" ng-change="getData()" ng-options="p.name for p in periods">
          </select>
        </div>
        <div class="span3">
          Here comes another graph.
        </div>
      </div>

      <div class="row-fluid">
        <div id="content" ng-controller="CrashReportsCtrl" class="span12">
          <span ng-bind-template="{{reports.length}} latest reports (out of {{totalReports}}):">Loading...</span>
          <ul>
            <li ng-repeat="report in reports" ng-cloak>
              <a ng-click="loadReport(report)">{{report.id}} - {{report.displayDate}} : {{report.value.android_version}} - {{report.value.stack_trace[0].split('\n')[0];}}</a>
            </li>
          </ul>
          <div class="prettyprint" prettyprint="selectedReport" />
<!--           <table ng-show="selectedReport" class="table table-striped">
            <tbody>
              <tr ng-repeat="(key, value) in selectedReport">
                <th>{{key}}</th>
                <td>{{value}}</td>
              </tr>
            </tbody>
          </table>
 -->
        </div>
      </div>
    </div>
    <script src="script/app.js"></script>
    <script src="script/acra-storage.js"></script>
    <script src="script/controllers.js"></script>
  </body>

<!-- templates used by app.js -->
  <script id="new-message" type="text/x-mustache" charset="utf-8">
      <div class="avatar">
        {{#gravatar_url}}<img src="{{gravatar_url}}"/>{{/gravatar_url}}
        <div class="name">
          {{name}}
        </div>
      </div>
      <form id="create-message">
        <label>New message from {{nickname}}: <input type="text" name="message" size=60 value=""></label>
      </form>
      <div style="clear:left;"></div>
  </script>

  <script id="recent-messages" type="text/x-mustache" charset="utf-8">
        <h3>Recent Messages</h3>
        <ul id="items">
          {{#items}}
            <li>
              <div class="avatar">
                {{#gravatar_url}}<img src="{{gravatar_url}}" alt="{{name}}"/>{{/gravatar_url}}
                <div class="name">
                  {{nickname}}
                </div>
              </div>
              <p>{{message}}</p>
              <div style="clear:left;"></div>
            </li>
          {{/items}}
        </ul>
        <p><em>Protip:</em> If you setup continuous replication between this database and a remote one, this list will reflect remote changes in near real-time.</p>
        <p>This would be a good place to add pagination.</p>
  </script>

</html>
