<!DOCTYPE html>
<html ng-app="Acralyzer">
  <head>
    <title>Acralyzer</title>
    <link rel="stylesheet" href="vendor/d3/rickshaw.min.css" type="text/css">
    <link rel="stylesheet" href="style/main.css" type="text/css">
    <link rel="stylesheet" href="style/graph.css" type="text/css">
    <script src="/_utils/script/sha1.js"></script>
    <script src="/_utils/script/json2.js"></script>
    <script src="/_utils/script/jquery.js"></script>
    <script src="/_utils/script/jquery.couch.js"></script>
    <script src="vendor/couchapp/jquery.mustache.js"></script>
    <script src="vendor/couchapp/jquery.couchLogin.js"></script>
    <script src="vendor/couchapp/jquery.couchProfile.js"></script>
    <script src="vendor/couchapp/md5.js"></script>
    <script src="vendor/angular/angular.min.js"></script>
    <script src="vendor/angular/angular-resource.min.js"></script>
    <script src="script/app.js"></script>
    <script src="script/acra-storage.js"></script>
    <script src="script/controllers.js"></script>
    <script src="vendor/d3/d3.v2.js"></script>
  </head>
  <body>
    <div id="account"></div>

    <h1>Acralyzer</h1>

    <div id="profile">
    </div>
    <div id="content" ng-controller="CrashReportsCtrl">
      <span ng-bind-template="{{reports.length}} reports:"></span>
      <ul>
        <li ng-repeat="report in reports" ng-bind-template="{{report.value.user_crash_date}} : {{report.value.android_version}} - <a href='{{report.link}}'>{{report.value.stack_trace.split('\n')[0];}}</a>">
          Loading reports...
        </li>
      </ul>
    </div>

    <div id="graph-container" ng-controller="ReportsPerDayCtrl">
    </div>

    <div id="sidebar">
      <p>Edit welcome message.</p>
      <p>Ideas: You could easily turn this into a photo sharing app, 
          or a grocery list, or a chat room. <a href="https://github.com/couchapp/example">Code for this app is on Github.</a></p>
    </div>
  </body>

<!-- templates used by app.js -->
  <script id="new-message" type="text/x-mustache" charset="utf-8">
      <div class="avatar">
        {{#gravatar_url}}<img src="{{gravatar_url}}"/>{{/gravatar_url}}
        <div class="name">
          {{name}}
        </div>
      </div>
      <form id="create-message">
        <label>New message from {{nickname}}: <input type="text" name="message" size=60 value=""></label>
      </form>
      <div style="clear:left;"></div>
  </script>

  <script id="recent-messages" type="text/x-mustache" charset="utf-8">
        <h3>Recent Messages</h3>
        <ul id="items">
          {{#items}}
            <li>
              <div class="avatar">
                {{#gravatar_url}}<img src="{{gravatar_url}}" alt="{{name}}"/>{{/gravatar_url}}
                <div class="name">
                  {{nickname}}
                </div>
              </div>
              <p>{{message}}</p>
              <div style="clear:left;"></div>
            </li>
          {{/items}}
        </ul>
        <p><em>Protip:</em> If you setup continuous replication between this database and a remote one, this list will reflect remote changes in near real-time.</p>
        <p>This would be a good place to add pagination.</p>
  </script>

</html>
